{"remainingRequest":"/home/hudsonbay/Projects/My Projects/vue-load-json-file-input/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hudsonbay/Projects/My Projects/vue-load-json-file-input/src/components/LoadJSON.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hudsonbay/Projects/My Projects/vue-load-json-file-input/src/components/LoadJSON.vue","mtime":1578041589000},{"path":"/home/hudsonbay/Projects/My Projects/vue-load-json-file-input/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hudsonbay/Projects/My Projects/vue-load-json-file-input/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hudsonbay/Projects/My Projects/vue-load-json-file-input/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hudsonbay/Projects/My Projects/vue-load-json-file-input/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9hZEpTT04iLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAganNvblJlc3VsdDogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uRmlsZVNlbGVjdGVkKGV2ZW50KSB7CiAgICAgIGxldCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwoKICAgICAgaWYgKCFmaWxlIHx8IGZpbGUudHlwZSAhPT0gImFwcGxpY2F0aW9uL2pzb24iKQogICAgICAgIHJldHVybiBhbGVydCgiU2UgZGViZSBjYXJnYXIgdW4gSlNPTiIpOwoKICAgICAgLy8gQ3JlZGl0OiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNzU0Mzk4LzUyMTYwCiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlLCAiVVRGLTgiKTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBldnQgPT4gewogICAgICAgIGxldCB0ZXh0ID0gZXZ0LnRhcmdldC5yZXN1bHQ7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuanNvblJlc3VsdCA9IEpTT04ucGFyc2UodGV4dCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgYWxlcnQoIlNlIGhhIHByb2R1Y2lkbyB1biBlcnJvciBhbCBjYXJnYXIgZWwgSlNPTiIpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgcmVhZGVyLm9uZXJyb3IgPSBldnQgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXZ0KTsKICAgICAgfTsKICAgIH0sCiAgICBvblVwbG9hZCgpIHt9CiAgfQp9Owo="},{"version":3,"sources":["LoadJSON.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoadJSON.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"hello\">\n    <input type=\"file\" @change=\"onFileSelected\" />\n\n    <p>{{ jsonResult }}</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoadJSON\",\n\n  data() {\n    return {\n      jsonResult: null\n    };\n  },\n  methods: {\n    onFileSelected(event) {\n      let file = event.target.files[0];\n\n      if (!file || file.type !== \"application/json\")\n        return alert(\"Se debe cargar un JSON\");\n\n      // Credit: https://stackoverflow.com/a/754398/52160\n      let reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n\n      reader.onload = evt => {\n        let text = evt.target.result;\n        try {\n          this.jsonResult = JSON.parse(text);\n        } catch (e) {\n          alert(\"Se ha producido un error al cargar el JSON\");\n        }\n      };\n      reader.onerror = evt => {\n        console.error(evt);\n      };\n    },\n    onUpload() {}\n  }\n};\n</script>\n"]}]}